{% extends "web/app/project_base.html" %}
<!---->
{% block app %}
<h1 class="text-2xl text-bold">{{ object.name }}</h1>
{% if object.kind == 'google_sheets' %}
<turbo-frame
  id="datasets:sync"
  src="{% url 'datasets:sync' object.id %}"
></turbo-frame>
{% endif %} {% if object.kind == 'fivetran' %}
<div>
  {% if object.historical_sync_complete %}
  <div>Ready</div>
  {% elif object.fivetran_authorized %}
  <div>Syncing</div>
  {% else %}
  <turbo-frame
    id="datasets:authorize"
    src="{% url 'datasets:authorize' dataset.id %}?original_uri={{ request.get_full_path }}"
    target="_top"
  >
  </turbo-frame>
  {% endif %}
</div>
{% endif %}
<div class="w-full h-96 overflow-scroll">
  <turbo-frame id="datasets-grid" src="{% url 'datasets:grid' object.id %}">
    Loading...
  </turbo-frame>
</div>
<!--ag-grid-->
<script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.noStyle.js"></script>
<link
  rel="stylesheet"
  href="https://unpkg.com/ag-grid-community/dist/styles/ag-grid.css"
/>
<link
  rel="stylesheet"
  href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-balham.css"
/>
{% endblock %}
