<!-- https://docs.djangoproject.com/en/2.2/_modules/django/forms/boundfield/#BoundField -->
{% for bound_field in form.visible_fields %}
<div class="input-group">
  {% if bound_field.widget_type == "checkbox" %}
  <label class="flex flex-row">
    {{ bound_field }}

    <span>
      {{ bound_field.label }}
      {% if not bound_field.field.required %}<span class="text-black-50">- optional</span>{% endif %}
      <p class="input__help-text">{{ bound_field.help_text }}</p>
    </span>
  </label>
  {% elif bound_field.subwidgets|length == 1 %}
  <label>
    <span>
      {{ bound_field.label }}
      {% if not bound_field.field.required %}<span class="text-black-50">- optional</span>{% endif %}
      <p class="input__help-text">{{ bound_field.help_text }}</p>
    </span>

    {{ bound_field }}
  </label>
  {% else %}
  <label for="{{ bound_field.id_for_label }}">
    {{ bound_field.label }}
    <p class=" input__help-text">{{ bound_field.help_text }}</p>
  </label>
  {{ bound_field }}
  {% endif %}

  {% if not form.is_live %}
  {{ bound_field.errors }}
  {% endif %}
</div>
{% endfor %}

{% for label, formset in formsets.items %}
<fieldset>
  <label>{{ label }}</label>
  {% include "components/formset.html" with formset=formset %}
</fieldset>
{% endfor %}

{% for error in form.non_field_errors %}
<p class="text-red">
  {{ error|escape }}
</p>
{% endfor %}

{% for hidden_field in form.hidden_fields %}
{{ hidden_field }}
{% endfor %}
