{% load crispy_forms_tags %}

<form
  id="control-update-form"
  data-tf-modal-target="form"
  data-tf-modal-submit-on-close
  data-action="change->tf-modal#change"
  hx-post="{% if is_public %}
    {% url 'dashboard_controls:update-public' project.id dashboard.id object.id %}
  {% else %}
    {% url 'dashboard_controls:update-widget' project.id dashboard.id object.id %}
  {% endif %}"
  hx-swap="outerHTML"
  class="form--no-layout pad"
>
  {% csrf_token %}

  {% crispy form %}

  <button
    class="button button--success button--sm mt-3 w-full"
    name="submit"
    type="submit"
    value="Save & Close"
  >
    Apply
  </button>
</form>