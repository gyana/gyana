{% extends "web/base.html" %}
{% load static %}

{% block banner %}
  {% if team.warning %}
    <div class="banner banner--warning">
      <p>
        You're exceeding your row count limit.
        <a href="{% url 'teams:account' team.id %}" class="text-white font-bold underline"> Learn more <span aria-hidden="true">&rarr;</span></a>
      </p>
    </div>
  {% endif %}

  {% if team and not team.enabled %}
    <div class="banner banner--danger">
      <p>
        You've exceeded your row count limit by over 20%, your team is
        temporarily disabled. <a href="{% url 'teams:account' team.id %}" class="text-white font-bold underline"> Learn more <span aria-hidden="true">&rarr;</span></a>
      </p>
    </div>
  {% endif %}
{% endblock %}

{% block sidebar_content %}
{% for user_team in request.user.teams.all %}
<li>
  <a class="sidebar__link {% if user_team.id == team.id %}sidebar__link--active{% endif %}"
     href="{% url 'teams:detail' user_team.id %}"
     title="{{ user_team.name }}">
    <span class="team_logo">{{ user_team.name|slice:1 }}</span>{{ user_team.name }}
  </a>
</li>
{% endfor %}

<li>
  <a id="sidebar-newteam" class="sidebar__link {% if request.resolver_match.app_name == 'teams' and request.resolver_match.url_name == 'create' %}sidebar__link--active{% endif %}" title="New Team" href="{% url 'teams:create' %}">
    <i class="fas fa-fw fa-plus mr-6"></i>New Team
  </a>
</li>
{% endblock %}

{% block body %}

{% block notifications %}{% endblock %}

<section class="flex flex-col flex-1 overflow-hidden {% block app-class %}{% endblock %}">
  {% block app %}{% endblock %}
</section>

{% endblock body %}
