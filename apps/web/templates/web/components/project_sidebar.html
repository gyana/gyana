{% load static %}

<div class="sidebar-container">
  <input type="checkbox" id="project-sidebar-toggle" role="button" checked hidden>
  <label for="project-sidebar-toggle">
    <i class="fas fa-fw fa-sm fa-chevron-right"></i>
  </label>

  <nav class="project__sidebar">
    <div class="project__title">
      <a class="h3 text-blue uppercase" href="{% url 'web:home' %}" title="View all your projects"><img
             src="{% static 'images/logo.png' %}" alt="">Gyana</a>
    </div>

    <div class="project__title">
      <h3 title="{{ project.name }}">{{ project.name }}</h3>
    </div>

    {% with app_name=request.resolver_match.app_name %}
    <ul class="project__nav">
      <li>
        <a class="project__link {% if app_name == "projects" and request.resolver_match.url_name == 'detail' %}project__link--active{% endif %}"
           href="{% url 'projects:detail' project.id %}">
          <i class="far fa-fw fa-file mr-6"></i>Overview
        </a>
      </li>

      <li>
        <a class="project__link {% if app_name == "projects:integrations" %}project__link--active{% endif %}"
           href="{% url 'projects:integrations:list' project.id %}">
          <i class="far fa-fw fa-link mr-6"></i>Integrations
        </a>
      </li>

      <li>
        <a class="project__link {% if app_name == "projects:workflows" %}project__link--active{% endif %}"
           href="{% url 'projects:workflows:list' project.id %}">
          <i class="far fa-fw fa-stream mr-6"></i>Workflows
        </a>
      </li>

      <li>
        <a class="project__link {% if app_name == "projects:dashboards" or app_name == "projects:dashboards:widgets" %}project__link--active{% endif %}"
           href="{% url 'projects:dashboards:list' project.id %}">
          <i class="far fa-fw fa-presentation mr-6"></i>Dashboards
        </a>
      </li>

      <li class="mt-auto">
        <hr>
      </li>

      <li>
        <a class="project__link {% if app_name == "projects" and request.resolver_match.url_name == 'update' %}project__link--active{% endif %}"
           href="{% url 'projects:update' project.id %}">
          <i class="far fa-fw fa-cog mr-6"></i>Settings
        </a>
      </li>

      <li>
        <hr>
      </li>

      <li>
        <a class="project__link {% if app_name == "users" %}project__link--active{% endif %}"
           href="{% url 'users:user_profile' %}">
          <img src="{{ user.avatar_url }}" alt="">{{user.email}}
        </a>
      </li>

      <li>
        <hr>
      </li>

      <li>
        <a class="project__link" href="https://gyana.com/">
          <i class="fas fa-fw fa-question mr-6"></i>Help
        </a>
      </li>
    </ul>
    {% endwith %}
  </nav>
</div>
