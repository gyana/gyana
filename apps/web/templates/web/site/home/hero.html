{% load site_tags static socialaccount heroicons %}

<div class="bg-gray-20 pt-16 lg:pt-24 xl:pt-32 pb-8 lg:pb-12 px-4 sm:px-6 lg:px-8 overflow-hidden">
  <div class="mx-auto max-w-7xl relative">
    <p class="absolute right-4 lg:right-24 -top-8 lg:-top-12 text-indigo-600 text-lg lg:text-2xl text-right text-caveat" style="z-index: 3;">
      * yes, we really mean <a class="link underline" href="{% url 'web:integrations' %}">any!</a>
    </p>
    <div class="text-center">
      <h1 class="text-4xl font-bold text-gray-900 sm:text-5xl lg:text-6xl">
        Build custom reports for any<span class="text-indigo-600 -ml-2 mr-1 text-caveat">*</span> source.
      </h1>
      <p class="mt-3 max-w-md mx-auto text-base text-gray-600 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
        Stop wrestling with manual exports, #N/A nightmares and stale data.
        Start delivering insights that move your business forward.
      </p>
    </div>

    <div class="my-8 text-base text-gray-600 gap-4 flex justify-center">
      <form method="get" action="{% url 'account_signup' %}"
        class="flex flex-col sm:flex-row items-center max-w-xl w-full">
          <input type="email" name="email" id="email" class="input input--sm" placeholder="Email address">
          <div class="flex items-center gap-4">
            <button type="submit" href="{% url 'account_signup' %}" class="w-full sm:w-auto button button--secondary">
              Create account
            </button>
            <a class="button button--tertiary w-16" href="{% provider_login_url 'google' %}">
              <img class="w-6 h-6" src="{% static 'images/socialauth/google-g.svg' %}" alt="Google Logo">
            </a>
          </div>
      </form>
    </div>

    <p class="text-xs sm:text-sm text-gray-600 px-4 inline-flex items-center gap-1">
      Turn your
      <span class="border border-gray inline-flex items-center gap-1 bg-white px-2 py-1 rounded-md">
        Google Analytics <img class="w-4 h-4" src="{% static 'images/integrations/fivetran/google_analytics.svg' %}" alt="">
      </span> data into this
      {% heroicon 'arrow-down' class="h-5 w-5" style="solid" %}
    </p>
  </div>

  <div class="-mx-8 sm:mx-0 overflow-hidden">
    <div class="max-w-7xl mx-auto relative">
      <iframe id='dashboard-demo' class="w-full hero-demo" scrolling="no" src="{% external_url 'demo_dashboard' %}?embed=true" frameborder="0"></iframe>
      <div class="fade-bottom"></div>
      <div id='dashboard-demo-toggle' class="absolute -bottom-0 left-8 right-8 text-center" style="z-index: 3;">
        <button onclick="openDashboard()" class="inline-flex items-center gap-2 text-sm text-gray-600 bg-white px-4 py-2 bg-gray-20 border border-gray rounded-full">
          Expand {% heroicon 'arrow-down' class="h-4 w-4" style="solid" %}
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  const openDashboard = (event) => {
    const iframe = document.getElementById('dashboard-demo')
    iframe.scrolling = "yes"
    iframe.classList.add('hero-demo--expand')

    const arrow = document.getElementById('dashboard-demo-toggle')
    arrow.hidden = true

    const fade = document.querySelector('.fade-bottom')
    fade.hidden = true
  }
</script>