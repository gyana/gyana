{% load static heroicons %}

<style>
  {% for group in services %}
    .integrations-{{ forloop.counter0 }} {
      animation: {{ group.animation }}s linear 0s infinite normal none running slide;
    }
    @keyframes slide {
      100% {
        transform: translateX(-100%);
      }
    }
  {% endfor %}
</style>

<div
  id="features"
  class="relative bg-white pt-16 pb-32 overflow-hidden"
>
  <div id="integrations" class="relative">
    <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
      <div class="px-4 max-w-xl mx-auto sm:px-6 lg:max-w-none lg:mx-0 lg:px-0">
        <div>
          <div>
            <span class="flex-shrink-0">
              <span class="w-10 h-10 flex items-center justify-center border-2 border-indigo-600 rounded-full">
                <span class="text-indigo-600">01</span>
              </span>
            </span>
          </div>
          <div class="mt-6">
            <h2 class="text-3xl font-extrabold tracking-tight text-gray-900">
              Connect your sources
            </h2>
            <p class="mt-4 mb-6 text-lg text-gray-600">
              Connect to most popular online sources, including apps, databases, webhooks and APIs.
              After a one-time setup, our enterprise-grade connectors will sync your raw data, daily.
              <b>No more manual exports.</b>
            </p>
            
            <a href="{% url 'web:integrations' %}" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
              <span>View our native integrations</span>
              {% heroicon 'chevron-right' class="w-5 h-5" style="solid" %}
            </a>
          </div>
        </div>
      </div>
      <div class="mt-12 sm:mt-16 lg:mt-0 relative">
        <div class="fade-left"></div>
        <div class="flex flex-col gap-4 overflow-hidden mt-2">
          {% for group in services %}
            <div class="flex gap-2 integrations-{{ forloop.counter0 }}">
              {% for service in group.services %}
                <div class="inline-flex items-center gap-2 flex-none px-2 py-1 rounded-lg text-sm font-normal bg-indigo-100 text-gray-800">
                  <img
                    class="h-4 w-4"
                    src="{% static 'images/integrations/fivetran/'|add:service.icon_path %}"
                    alt={{ service.name }}
                  />
                  {{ service.name }}
                </div>
              {% endfor %}
            </div>
          {% endfor %}
        </div>
        <div class="fade-right"></div>
      </div>
    </div>
  </div>
  <div id="workflows" class="mt-24">
    <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
      <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-16 lg:max-w-none lg:mx-0 lg:px-0 lg:col-start-2">
        <div>
          <div>
            <span class="flex-shrink-0">
              <span class="w-10 h-10 flex items-center justify-center border-2 border-indigo-600 rounded-full">
                <span class="text-indigo-600">02</span>
              </span>
            </span>
          </div>
          <div class="mt-6">
            <h2 class="text-3xl font-extrabold tracking-tight text-gray-900">
              Prepare your data
            </h2>
            <p class="mt-4 text-lg text-gray-600">
              Our visual editor makes it easy. Connect data processing steps like
              <span class="inline-flex items-center px-2 py-1 rounded-md text-sm font-normal bg-indigo-100 text-gray-800">
                <i class="fa fa-filter mr-2"> </i>Filter
              </span>
              <span class="inline-flex items-center px-2 py-1 rounded-md text-sm font-normal bg-indigo-100 text-gray-800">
                <i class="fa fa-link mr-2"> </i>Join
              </span>
              <span class="inline-flex items-center px-2 py-1 rounded-md text-sm font-normal bg-indigo-100 text-gray-800">
                <i class="fa fa-function mr-2"> </i>Formula
              </span>
              and watch as automation does all the heavy lifting for you. Your workflows
              can be as simple or as complex as you design them.
            </p>
            <p class="mt-4 text-sm text-gray-600 mb-6">
              <b>{{ workflow_statistics.node_count }}</b> nodes • <b>{{ workflow_statistics.function_count }}</b> functions • <b>Unlimited</b> flexibility
            </p>
            <div class="inline-flex items-center text-sm leading-4 font-medium text-gray-700">
              <span class="block lg:hidden">{% heroicon 'arrow-down' class="w-5 h-5" style="solid" %}</span>
              <span class="hidden lg:block">{% heroicon 'arrow-left' class="w-5 h-5" style="solid" %}</span>
              <span class="ml-2">Explore our workflow nodes</span>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-12 sm:mt-16 lg:mt-0 lg:col-start-1 h-96 lg:h-auto">
        <workflow-demo></workflow-demo>
      </div>
    </div>
  </div>
  <div id="dashboards" class="mt-48 lg:mt-24">
    <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
      <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-32 lg:max-w-none lg:mx-0 lg:px-0">
        <div>
          <div>
            <span class="flex-shrink-0">
              <span class="w-10 h-10 flex items-center justify-center border-2 border-indigo-600 rounded-full">
                <span class="text-indigo-600">03</span>
              </span>
            </span>
          </div>
          <div class="mt-6">
            <h2 class="text-3xl font-extrabold tracking-tight text-gray-900">
              Build your report
            </h2>
            <p class="mt-4 mb-6 text-lg text-gray-600">
              Choose from a variety of flexible visualizations and connect
              to any data. Schedule daily updates, add interactive filters
              and share with your clients and collaborators.
            </p>
          </div>
        </div>
      </div>
      <div class="mt-12 sm:mt-16 lg:mt-0">
        <dashboard-demo></dashboard-demo>
      </div>
    </div>
  </div>
</div>

{{ node_config|json_script:"nodes" }}
<script src="{% static "js/web-workflow-demo-bundle.js" %}"></script>
<script>window.FUSIONCHARTS_LICENCE = "{{ FUSIONCHARTS_LICENCE }}"</script>
<script src="{% static "js/web-dashboard-demo-bundle.js" %}"></script>
<link rel="stylesheet" href="{% static "css/workflow.css" %}" />