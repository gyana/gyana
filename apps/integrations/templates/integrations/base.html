{% extends "web/app/project_base.html" %}
{% load static %}

{% block app %}
<div class="workflow-detail__header">
  <h3 class="mr-auto flex justify-center items-center">
    <img class="h-12 w-12 mr-4" src="{% static integration.icon %}" title="{{ integration.name }}" />
    {{object.name}}
  </h3>

  {% if integration.kind == "google_sheets" %}
  <a href="{{ integration.url }}" class="button button--circle button--tertiary" title="External source link">
    <i class="fas fa-link fa-sm mr-1"></i>
  </a>
  {% endif %}
</div>

<nav class="tabbar">
  <a class="tabbar__link {% if request.resolver_match.url_name == 'detail' %} tabbar__link--active {% endif %}"
     href="{% url 'project_integrations:detail' project.id object.id %}">
    Overview
  </a>
  {% if object.table_set.exists %}
  <a class="tabbar__link {% if request.resolver_match.url_name == 'structure' %} tabbar__link--active {% endif %}"
     href="{% url 'project_integrations:structure' project.id object.id %}">
    Structure
  </a>
  <a class="tabbar__link {% if request.resolver_match.url_name == 'data' %} tabbar__link--active {% endif %}"
     href="{% url 'project_integrations:data' project.id object.id %}">
    Data
  </a>
  {% endif %}
  <a class="tabbar__link {% if request.resolver_match.url_name == 'settings' %} tabbar__link--active {% endif %}"
     href="{% url 'project_integrations:settings' project.id object.id %}">
    Settings
  </a>
</nav>

<div class="flex flex-col flex-1 overflow-auto pad">
  {% block tab %}{% endblock %}
</div>
{% endblock %}
