{% load static %}

<div
  class='integration__file-validate {% if not table_select_task_id %}inactive{% endif %}'
  data-controller="celery-progress"
  {% if table_select_task_id %}
  data-celery-progress-task-url-value="{% url 'celery_progress:task_status' table_select_task_id %}"
  {% else %}
  data-celery-progress-dont-start-value="true"
  {% endif %}
  data-celery-progress-script-url-value="{% static 'celery_progress/celery_progress.js' %}"
  data-celery-progress-turbo-stream-url-value="{{ turbo_url }}"
>
  {% if table_select_task_id %}
  <i class="fad fa-spinner-third fa-spin text-blue text-4xl"></i>
  <div class='flex flex-col ml-4'>
    <h1>Setting selected tables...</h1>
  </div>
  {% else %}
    <i class="fas fa-check text-green text-xl mr-4"></i>
    <h4>Tables successfully set</h4>
  {% endif %}

  <template id="success-template">
    <i class="fas fa-check text-green text-xl mr-4"></i>
    <h4>Tables successfully set</h4>
  </template>
  <template id="failure-template">
    <i class="fas fa-times text-red text-xl mr-4"></i>
    <h4>Errors occurred when setting the tables</h4>
  </template>
</div>
