<turbo-frame id="workflows:run">
  <div class="flex items-center gap-4">
    <form method="post" action="{% url 'workflows:run' object.id %}"
      data-controller='trigger'
      data-trigger-event-value="workflow-run-{{ object.id }}"
      data-action="click->trigger#dispatch"
        >
    
      {% csrf_token %}

      <button class="button button--sm button--green button--square" type="submit">
        Run
      </button>
    </form>
    {% if workflow.failed %}
      <button class="button button--sm button--orange button--square"
        data-controller='trigger'
        data-trigger-event-value="workflow-run-{{ object.id }}"
        data-action="click->trigger#dispatch"
      >
        Show errors
      </button>
    {% endif %}
    <p class="text-black-50">Last run: {{ object.last_run|default_if_none:'Never' }}</p>
  </div>
</turbo-frame>
