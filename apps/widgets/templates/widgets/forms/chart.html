{% extends 'widgets/forms/default.html' %}

{% block widget_form %}
<label for="{{ form.dimension.id_for_label }}">
  {{ form.dimension.label }}
</label>
{{form.dimension}}

{% if form.kind.value == 'heatmap' %}
  <label for="{{ form.dimension.id_for_label }}">
    {{ form.second_dimension.label }}
  </label>
  {{form.second_dimension}}
{% endif %}

<fieldset>
  {% if formsets.Aggregations %}
    {% with formset=formsets.Aggregations %}
      <label>Metrics</label>
      {% include "components/formset.html" with formset=formset %}
    {% endwith %}
  {% endif %}
</fieldset>
{% if form.kind.value ==  'stackedbar2d' or form.kind.value ==  'stackedcolumn2d' %}
  <fieldset>
    <label for="{{ form.second_dimension.id_for_label }}">
      {{ form.second_dimension.label}}
    </label>
    <div class="formset-wrapper">
    {{ form.second_dimension }}
  
    <label class='input__toggle' for="{{ form.stack_100_percent.id_for_label }}">
      <p class="input__help-text">{{ form.stack_100_percent.label}}</p>
      {{ form.stack_100_percent }}
    </label>

    </div>
  </fieldset>
{% endif %}

{% if form.sort_by %}
<fieldset>
  <label>{{ form.sort_by.label}}</label>

  <div class="formset-wrapper">
    {{ form.sort_by }}

    <div>
      <label class="input__toggle" for="{{ form.sort_ascending.id_for_label }}">
        <p class="input__help-text">{{ form.sort_ascending.label}}</p>

        {{form.sort_ascending}}
      </label>
    </div>
  </div>
</fieldset>
{% endif %}
{% endblock %}