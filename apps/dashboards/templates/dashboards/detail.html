{% extends "web/app/project_base.html" %}
{% load static %}
<!---->
{% block app %}
<div class="flex flex-row items-center mb-4">
  <h1 class="text-2xl text-bold">{{ object.name }}</h1>
  {% with link_style="px-4 py-1 text-blue-600 hover:bg-blue-600 hover:text-white border border-blue-600 rounded-full transition-colors duration-100" %}
  <a class="ml-8 {{ link_style }}" data-turbo-frame="widgets" href="{% url 'widgets:create' %}">Add widget</a>
  <a class="ml-2 {{ link_style }}" href="{% url 'projects:dashboards:update' project.id object.pk %}">Update</a>
  <a class="ml-2 {{ link_style }}" href="{% url 'projects:dashboards:delete' project.id object.pk %}">Delete</a>
  {% endwith %}
</div>
<div>
  <turbo-frame id="widgets" 
    {% if request.GET.widget_id %} 
      src="{% url 'widgets:detail' request.GET.widget_id %}" 
    {% else %} 
      src="{% url 'widgets:list' %}" 
    {% endif %}
  ></turbo-frame>
</div>
{% endblock %}
{% block page_js %}
<script src="{% static "fusioncharts/fusioncharts.js" %}"></script>
<script src="{% static "fusioncharts/fusioncharts.charts.js" %}"></script>
<script src="{% static "fusioncharts/themes/fusioncharts.theme.fusion.js" %}"></script>
{% endblock %}